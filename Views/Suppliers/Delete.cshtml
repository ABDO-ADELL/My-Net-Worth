@model Supplier

@{
    ViewData["Title"] = "Delete Supplier";
}

<div class="container mt-4">
    <h2>@ViewData["Title"]</h2>

    <div class="alert alert-danger">
        Are you sure you want to delete this supplier?
    </div>

    <div class="card p-3 shadow-sm">

        <p><strong>Supplier Name:</strong> @Model.Name</p>
        <p><strong>Email:</strong> @Model.Email</p>
        <p><strong>Phone:</strong> @Model.Phone</p>

        <h5 class="mt-3">Items Provided by Supplier:</h5>

        @if (Model.SupplierItems != null && Model.SupplierItems.Any())
        {
            <table class="table table-bordered mt-2">
                <thead>
                    <tr>
                        <th>Item</th>
                        <th>Purchase Price</th>
                        <th>Payment Method</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.SupplierItems)
                    {
                        <tr>
                            <td>@(item.Item?.Name ?? "Deleted Item")</td>
                            <td>@item.PurchasePrice</td>
                            <td>@item.PaymentMethod</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p class="text-muted">No items linked to this supplier.</p>
        }
    </div>

    <form asp-action="Delete" method="post" class="mt-3">
        <input type="hidden" asp-for="SupplierId" />
        <button type="submit" class="btn btn-danger">Delete</button>
        <a asp-action="Index" class="btn btn-secondary">Cancel</a>
    </form>
</div>
